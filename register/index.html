<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
    <title>Register</title>
</head>
<body>
    <h2>Hello there !!</h2>
    <p>Signup to <span style="color:deepskyblue;">Indibuzz</span></p>
    <form action="#">
        <input onkeyup="validate(this);" placeholder="Enter User Name" type="text" name="user_name" id="user_name">
        <input placeholder="Nick Name" type="text" name="name" id="name">
        <input onkeyup="validateEmail(this);" placeholder="Mail ID" type="email" name="mail" id="mail">
        <input placeholder="password" type="password" name="password" id="password"><i onclick="show(this,1);" class="bi bi-eye-slash" id="togglePassword"></i></input>
        <input onkeyup="check(this);" placeholder="Confirm password" type="password" name="cpassword" id="cpassword"><i onclick="show(this,2);" class="bi bi-eye-slash" id="togglePassword"></i>
        <button>Signup</button>
    </form>
    <script>
        
        const containsWhitespace = str => /\s/.test(str);
        function show(elm,p){
            if(p==1){
            if(elm.className!="bi bi-eye"){
                document.getElementById("password").type="text";
                elm.className="bi bi-eye";
            }else{
                document.getElementById("password").type="password";
                elm.className="bi bi-eye-slash";
            }
        }else{
            if(elm.className!="bi bi-eye"){
                document.getElementById("cpassword").type="text";
                elm.className="bi bi-eye";
            }else{
                document.getElementById("cpassword").type="password";
                elm.className="bi bi-eye-slash";
            }
        }
        }
        
        function isValidInstagramUsername(username) {
        const regex = /^[a-zA-Z0-9_]+(?:\.[a-zA-Z0-9_]+)*$/;

        return regex.test(username);
        }
        function check(elm){
            var pass=document.getElementById("password");
            if(elm.value!=pass.value){
                elm.style.border="2px solid red";
                pass.style.border="2px solid red";
            }else{
                elm.style.border="2px solid lightgreen";
                pass.style.border="2px solid lightgreen";
            }
        }
        function validate1(elm){
            if(containsWhitespace(elm.value) || (elm.value.length==0)){
                elm.style.border="2px solid red";
            }else{
                elm.style.border="2px solid lightgreen";
            }
        }
        function validate(elm){
            if(isValidInstagramUsername(elm.value)){
                elm.style.border="2px solid lightgreen";
            }else{
                elm.style.border="2px solid red";
            }
        }

        function validateEmail(email) {
            email=email.value;
            const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            if(emailRegex.test(email)){
                document.getElementById("mail").style.border="2px solid lightgreen";
            }else{
                document.getElementById("mail").style.border="2px solid red";

            }
        }
    </script>
</body>
</html>